var __path__=require("./path.js"),unzip=require("./unzip.js"),__update__=require("../network/update.js"),__app__=require("../app/"),__config__=require("../config"),__remote__=require("../network/remote.js"),__logger__=require("../../logger");module.exports=function(e,i,_,r,n){if(!(e instanceof __path__))throw{code:1,description:"An instance of path is required.",url:""};if(!i)throw{code:1,description:"A zip file is required.",url:""};if(!(_ instanceof __app__))throw{code:1,description:"An instance of app is required.",url:""};if(!(r instanceof __config__))throw{code:1,description:"An instance of config is required.",url:""};if(!(n instanceof __remote__))throw{code:1,description:"An instance of remote is required.",url:""};return new Promise(function(o){__logger__.log("Installing",i),unzip(e,i).then(function(){__logger__.log("Install successful."),o(!0)})["catch"](function(){__logger__.log("Install failed. Calling update."),__update__(_,e,r,n,!0).then(o)})})};